<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.6">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2019-08-21T14:25:12+09:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Network File System (NFS)</title><subtitle>An amazing website.</subtitle><author><name>김승율</name></author><entry><title type="html">Required Services</title><link href="http://localhost:4000/%EB%8D%B8%ED%94%BC%EC%BD%A4/first-post/" rel="alternate" type="text/html" title="Required Services" /><published>2019-08-20T00:00:00+09:00</published><updated>2019-08-20T00:00:00+09:00</updated><id>http://localhost:4000/%EB%8D%B8%ED%94%BC%EC%BD%A4/first-post</id><content type="html" xml:base="http://localhost:4000/%EB%8D%B8%ED%94%BC%EC%BD%A4/first-post/">&lt;h2 id=&quot;required-services&quot;&gt;Required Services&lt;/h2&gt;
&lt;p&gt;Red Hat Enterprise Linux는 커널 레벨 지원과 데몬 프로세스의 조합을 사용하여 NFS 파일 공유를 제공합니다. 모든 NFS 버전은 클라이언트와 서버 간의 원격 프로 시저 호출 (RPC)에 의존합니다. Red Hat Enterprise Linux 7에서 RPC 서비스는 rpcbind 서비스에 의해 제어됩니다. NFS 파일 시스템을 공유하거나 마운트하려면 구현 된 NFS 버전에 따라 다음 서비스가 함께 작동합니다.&lt;/p&gt;

&lt;h3 id=&quot;note&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;portmap 서비스는 이전 버전의 Red Hat Enterprise Linux에서 RPC 프로그램 번호를 IP 주소 포트 번호 조합으로 매핑하는 데 사용되었습니다. 이 서비스는 현재 Red Hat Enterprise Linux 7에서 rpcbind로 대체되어 IPv6을 지원합니다.&lt;/p&gt;

&lt;h3 id=&quot;nfs&quot;&gt;&lt;strong&gt;nfs&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;systemctl start nfs는 NFS 서버와 적절한 RPC 프로세스를 시작하여 공유 NFS 파일 시스템에 대한 요청을 처리합니다.&lt;/p&gt;

&lt;h3 id=&quot;nfslock&quot;&gt;&lt;strong&gt;nfslock&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;systemctl start nfs-lock은 NFS 클라이언트가 서버의 파일을 잠글 수 있도록 적절한 RPC 프로세스를 시작하는 필수 서비스를 활성화합니다.&lt;/p&gt;

&lt;h3 id=&quot;rpcbind&quot;&gt;&lt;strong&gt;rpcbind&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;rpcbind는 로컬 RPC 서비스에서 포트 예약을 허용합니다. 이러한 포트는 해당 원격 RPC 서비스가 액세스 할 수 있도록 사용 가능하게 설정됩니다. rpcbind는 RPC 서비스에 대한 요청에 응답하고 요청 된 RPC 서비스에 대한 연결을 설정합니다. 이것은 NFSv4에서 사용되지 않습니다.&lt;/p&gt;

&lt;p&gt;다음 RPC 프로세스는 NFS 서비스를 용이하게합니다.&lt;/p&gt;

&lt;h3 id=&quot;rpcmountd&quot;&gt;&lt;strong&gt;rpc.mountd&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;이 프로세스는 NFS 서버가 NFSv3 클라이언트의 MOUNT 요청을 처리하는 데 사용됩니다. 요청 된 NFS 공유가 NFS 서버에 의해 현재 내보내지고 클라이언트가 액세스 할 수 있는지 확인합니다. 마운트 요청이 허용되면 rpc.mountd 서버는 성공 상태로 응답하고이 NFS 공유에 대한 파일 핸들을 NFS 클라이언트에 제공합니다.&lt;/p&gt;

&lt;h3 id=&quot;rpcnfsd&quot;&gt;&lt;strong&gt;rpc.nfsd&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;rpc.nfsd는 명시적인 NFS 버전과 서버가 광고를 정의하도록 허용합니다. NFS 클라이언트가 연결할 때마다 서버 스레드를 제공하는 것과 같이 NFS 클라이언트의 동적 요구를 충족시키기 위해 Linux 커널과 함께 작동합니다. 이 프로세스는 nfs 서비스에 해당합니다.&lt;/p&gt;

&lt;h3 id=&quot;lockd&quot;&gt;&lt;strong&gt;lockd&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;lockd는 클라이언트와 서버 모두에서 실행되는 커널 스레드입니다. NFSv3 클라이언트가 서버의 파일을 잠글 수있게하는 NLM (Network Lock Manager) 프로토콜을 구현합니다. NFS 서버가 실행될 때마다 그리고 NFS 파일 시스템이 마운트 될 때마다 자동으로 시작됩니다.&lt;/p&gt;

&lt;h3 id=&quot;rpcstatd&quot;&gt;&lt;strong&gt;rpc.statd&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;이 프로세스는 NSM (Network Status Monitor) RPC 프로토콜을 구현합니다.이 프로토콜은 NFS 서버가 정상적으로 종료되지 않고 다시 시작될 때 NFS 클라이언트에 알립니다. rpc.statd는 nfslock 서비스에 의해 자동으로 시작되며 사용자 구성이 필요하지 않습니다. 이것은 NFSv4에서 사용되지 않습니다.&lt;/p&gt;

&lt;h3 id=&quot;rpcrquotad&quot;&gt;&lt;strong&gt;rpc.rquotad&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;이 프로세스는 원격 사용자에 대한 사용자 할당량 정보를 제공합니다. rpc.rquotad는 nfs 서비스에 의해 자동으로 시작되며 사용자 구성을 필요로하지 않습니다.&lt;/p&gt;

&lt;h3 id=&quot;rpcidmapd&quot;&gt;&lt;strong&gt;rpc.idmapd&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;rpc.idmapd는 on-the-wire NFSv4 이름 (user @ domain 형식의 문자열)과 로컬 UID 및 GID 사이를 매핑하는 NFSv4 클라이언트 및 서버 업 콜을 제공합니다. idmapd가 NFSv4와 함께 작동하려면 /etc/idmapd.conf 파일을 구성해야합니다. 최소한 NFSv4 매핑 도메인을 정의하는 “Domain”매개 변수를 지정해야합니다. NFSv4 매핑 도메인이 DNS 도메인 이름과 같으면이 매개 변수를 건너 뛸 수 있습니다. ID 매핑이 제대로 작동하려면 클라이언트와 서버가 NFSv4 매핑 도메인에 동의해야합니다.&lt;/p&gt;

&lt;h3 id=&quot;note-1&quot;&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Red Hat Enterprise Linux 7에서는 NFSv4 서버 만 rpc.idmapd를 사용합니다. NFSv4 클라이언트는 키링 기반 idmapper nfsidmap을 사용합니다. nfsidmap은 ID 매핑을 수행하기 위해 필요시 커널에 의해 호출되는 독립 실행 형 프로그램입니다. 그것은 데몬이 아닙니다. nfsidmap에 문제가 있으면 클라이언트는 rpc.idmapd를 사용하여 폴백합니다. nfsidmap에 대한 자세한 내용은 nfsidmap 매뉴얼 페이지를 참조하십시오.&lt;/p&gt;</content><author><name>김승율</name></author><category term="개발팀" /><summary type="html">소주제 1</summary></entry><entry><title type="html">pNFS</title><link href="http://localhost:4000/%EB%91%90%EC%82%B0/two-post/" rel="alternate" type="text/html" title="pNFS" /><published>2019-08-20T00:00:00+09:00</published><updated>2019-08-20T00:00:00+09:00</updated><id>http://localhost:4000/%EB%91%90%EC%82%B0/two-post</id><content type="html" xml:base="http://localhost:4000/%EB%91%90%EC%82%B0/two-post/">&lt;h2 id=&quot;pnfs&quot;&gt;pNFS&lt;/h2&gt;

&lt;p&gt;Red Hat Enterprise Linux 6.4에서는 NFS v4.1 표준의 일부로 Parallel NFS (pNFS)를 지원합니다. pNFS 아키텍처는 성능 향상을 통해 NFS의 확장 성을 향상시킵니다. 즉, 서버가 pNFS를 구현할 때 클라이언트는 동시에 여러 서버를 통해 데이터에 액세스 할 수 있습니다. 파일, 객체 및 블록과 같은 세 가지 저장소 프로토콜 또는 레이아웃을 지원합니다.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;br /&gt;
이 프로토콜은 파일, 객체 및 블록과 같은 세 가지 가능한 pNFS 레이아웃 유형을 허용합니다. Red Hat Enterprise Linux 6.4 클라이언트는 파일 레이아웃 유형 만 지원했지만 Red Hat Enterprise Linux 7은 파일 레이아웃 유형을 지원합니다. 객체 및 블록 레이아웃 유형은 기술 미리보기로 포함됩니다.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;pNFS Flex Files&lt;/strong&gt;&lt;br /&gt;
유연한 파일은 독립형 NFSv3 및 NFSv4 서버를 스케일 아웃 이름 공간에 집계 할 수있는 pNFS의 새로운 레이아웃입니다. Flex Files 기능은 RFC 7862 사양에 설명 된 NFSv4.2 표준의 일부입니다.&lt;/p&gt;

&lt;p&gt;Red Hat Enterprise Linux는 Red Hat Enterprise Linux 7.4부터 Flex Files 서버에서 NFS 공유를 마운트 할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Mounting pNFS Shares&lt;/strong&gt;
pNFS 기능을 사용하려면 NFS 버전 4.1 이상을 사용하는 pNFS 지원 서버에서 공유를 마운트하십시오.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mount -t nfs -o v4.1 server:/remote-export /local-directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;서버가 pNFS를 사용하면 nfs_layout_nfsv41_files 커널이 자동으로 첫 번째 마운트에로드됩니다. 출력의 마운트 항목은 minorversion = 1을 포함해야합니다. 다음 명령을 사용하여 모듈이로드되었는지 확인하십시오.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lsmod | grep nfs_layout_nfsv41_files
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Flex 파일을 지원하는 서버의 Flex Files 기능을 사용하여 NFS 공유를 탑재하려면 NFS 버전 4.2 이상을 사용하십시오.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# mount -t nfs -o v4.2 server:/remote-export /local-directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;nfs_layout_flexfiles 모듈이로드되었는지 확인하십시오.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ lsmod | grep nfs_layout_flexfiles  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Additional Resources
For more information on pNFS, refer to: &lt;a href=&quot;http://www.pnfs.com&quot;&gt;http://www.pnfs.com&lt;/a&gt;&lt;/p&gt;</content><author><name>김승율</name></author><category term="서비스팀" /><summary type="html">소주제 2</summary></entry></feed>